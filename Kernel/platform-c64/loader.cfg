FEATURES {
    STARTADDRESS: default = $0801;
}
SYMBOLS {
    __LOADADDR__:  type = import;
    __EXEHDR__:    type = import;
    __HIMEM__:     type = weak, value = $D000;
}
MEMORY {
    RAMZ:   start = $2, size = $0100 - 2, type = rw;
    STACK:  start = $0100, size = $0100, type = rw;
    LOADADDR: file = %O, start = %S - 2, size = $0002;
    HEADER:   file = %O, define = yes, start = %S,              size = $000D;
    MAIN:     file = %O, define = yes, start = __HEADER_LAST__, size = __HIMEM__ - __HEADER_LAST__;
    LORAM:    file = %O, start = $200, size = $200;
}
SEGMENTS {
    ZEROPAGE:   load = RAMZ,     type = zp;
    LOADADDR:   load = LOADADDR, type = ro;
    EXEHDR:     load = HEADER,   type = ro;
    STARTUP:    load = MAIN,     type = rw;
    LOWCODE:    load = MAIN, run = LORAM, type = rw, define = yes;
}
FILES {
    %O: format = bin;
}
